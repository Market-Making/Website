"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[519],{95652:function(X,N,o){o.r(N);var j=o(10031),c=o(33589),L=j.Z.CancelToken;N.default={post:function(i){var g=i.data||i.body||{},p=i.showError===void 0?!0:i.showError,C=i.rSymbol||g.rSymbol;delete g.successTip,delete g.rSymbol;var O=i.url,w=L.source(),f=w.token,U=w.cancel;return C&&(window.GLOBAL.requestSymbols[C]=U),j.Z.post(O,g,{timeout:1e3*120,cancelToken:f}).then(function(u){if(u.status==200)return typeof u.data=="string"?JSON.parse(u.data).output:!1;u.data,i.failed?i.failed(JSON.parse(u.data)):c.ZP.error(JSON.parse(u.data).msg)},function(u){return i.failed?i.failed(u):console.log(u),!1}).catch(function(u){return j.Z.isCancel(u)?console.log("Request canceled",u.message):(p&&c.ZP.error("\u8BF7\u6C42\u6570\u636E\u9519\u8BEF"),console.log("Error happened:".concat(u))),!1})},get:function(i){var g=i.data||i.body||{},p=i.rSymbol||g.rSymbol,C=i.showError===void 0?!0:i.showError,O=L.source(),w=O.cancel;return p&&(window.GLOBAL.requestSymbols[p]=w),j.Z.get(i.url,{params:i.data||i.params||{}},{timeout:1e3*120}).then(function(f){if(f.status==200)return JSON.parse(f.data).output;i.failed?i.failed(JSON.parse(f.data)):c.ZP.error(JSON.parse(f.data).msg)}).catch(function(f){return j.Z.isCancel(f)?(console.log("Request canceled",f.message),Promise.reject(f)):(i.failed?i.failed(f):console.error(f),C&&c.ZP.error("\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"),!1)})}}},50689:function(X,N,o){o.r(N),o.d(N,{default:function(){return le}});var j=o(3447),c=o.n(j),L=o(90887),M=o.n(L),i=o(37066),g=o.n(i),p=o(68136),C=o(86456),O=o(88894),w=o(22561),f=o(54763),U=o(81983),u=o(87241),V=o(37513),R=o(95652);function Y(y){return R.default.get({url:"api/get-config",data:y})}function q(y){return R.default.get({url:"api/start-bot",data:y})}function _(y){return R.default.get({url:"api/stop",data:y})}function ee(y){return R.default.get({url:"api/get-all-status",data:y})}function re(y){return R.default.post({url:"api/update-config",data:y})}var ne=o(96592),v=o.n(ne),ae=o(14766),b=o(84976),S=o(66491),E={nobgTable:"nobgTable___hvJjR",myModal:"myModal___BNsza",mySelect:"mySelect___xqXPf",dropDownMenu:"dropDownMenu___Op0_z",optionItem:"optionItem___XxSk5",confirmButton:"confirmButton___NB1tL",saveButton:"saveButton___N6C7a"},r=o(33130),te=function(Z){var I=Z.showModal,A=Z.setShowModal,n=Z.row,k=Z.setRow,P=Z.save;return(0,r.jsxs)(ae.Z,{open:I,footer:null,onCancel:function(){A(!1)},className:E.myModal,children:[(0,r.jsxs)(b.Z,{layout:"horizontal",style:{marginTop:30},children:[(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,color:"#b6b6b5"},children:"Name"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.name,disabled:!0,style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)!="Maker"&&(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Reference Pair"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.ref_pair,disabled:!0,style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)=="Maker"&&(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Grid"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.buygrid,onChange:function(s){k(v()(v()({},n),{},{buygrid:parseFloat(s.target.value),sellgrid:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)=="Maker"&&(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Order Number"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.BuyOrderNum,onChange:function(s){k(v()(v()({},n),{},{BuyOrderNum:parseFloat(s.target.value),SellOrderNum:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)!="Maker"&&(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Buy Ratio"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.buyratio,onChange:function(s){k(v()(v()({},n),{},{buyratio:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)!="Maker"&&(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Sell Ratio"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.sellratio,onChange:function(s){k(v()(v()({},n),{},{sellratio:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Upper Boundary"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.UpperBound,onChange:function(s){k(v()(v()({},n),{},{UpperBound:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Lower Boundary"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.LowerBound,onChange:function(s){k(v()(v()({},n),{},{LowerBound:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(0,r.jsxs)(b.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Order Amount"}),(0,r.jsx)(S.Z,{value:n==null?void 0:n.OrderAmount,onChange:function(s){k(v()(v()({},n),{},{OrderAmount:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]})]}),(0,r.jsx)(f.ZP,{className:E.confirmButton,onClick:function(){P(n),A(!1)},children:"Save"})]})},oe=te,ie=function(Z){var I=(0,p.useState)(!1),A=g()(I,2),n=A[0],k=A[1],P=(0,p.useState)(!1),B=g()(P,2),s=B[0],F=B[1],de=(0,p.useState)(),z=g()(de,2),pe=z[0],ue=z[1],se=(0,p.useState)([]),D=g()(se,2),G=D[0],H=D[1],ce=(0,p.useState)(),J=g()(ce,2),fe=J[0],$=J[1],me=(0,p.useState)("Bitmart"),Q=g()(me,2),h=Q[0],K=Q[1],ye=function(t){var e=G.map(function(a){return t.name!="Maker"&&a.name!="Maker"&&(a.buyratio=t.buyratio,a.sellratio=t.sellratio,a.UpperBound=t.UpperBound,a.LowerBound=t.LowerBound),a.name==t.name?t:a});H(e),W(t)},W=function(){var d=M()(c()().mark(function t(e){var a,x;return c()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return e.name=="Maker"?a={MakerUpperBound:e.UpperBound,MakerLowerBound:e.LowerBound,Maker:{BuyGrid:e.buygrid,SellGrid:e.sellgrid,BuyOrderNum:e.BuyOrderNum,SellOrderNum:e.SellOrderNum,OrderAmount:e.OrderAmount}}:(a={UpperBound:e.UpperBound,LowerBound:e.LowerBound,BuyAmountRatio:e.buyratio,SellAmountRatio:e.sellratio},a[e.name]={OrderAmount:e.OrderAmount}),m.next=3,re({key:1234,exchange_name:h.toLowerCase(),coin_name:h=="Bitmart"?"QH":"HUNTER",body:a});case 3:if(x=m.sent,!x){m.next=7;break}return m.next=7,T();case 7:case"end":return m.stop()}},t)}));return function(e){return d.apply(this,arguments)}}(),ve=function(){var d=M()(c()().mark(function t(e){var a;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,_({key:1234,exchange_name:h.toLowerCase(),coin_name:h=="Bitmart"?"QH":"HUNTER",bot_type:e.toLowerCase().replace("1","_1").replace("2","_2").replace("3","_3")});case 2:if(a=l.sent,!a){l.next=6;break}return l.next=6,T();case 6:case"end":return l.stop()}},t)}));return function(e){return d.apply(this,arguments)}}(),ge=function(){var d=M()(c()().mark(function t(e){var a;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,q({key:1234,exchange_name:h.toLowerCase(),coin_name:h=="Bitmart"?"QH":"HUNTER",bot_type:e.toLowerCase().replace("1","_1").replace("2","_2").replace("3","_3")});case 2:if(a=l.sent,!a){l.next=6;break}return l.next=6,T();case 6:case"end":return l.stop()}},t)}));return function(e){return d.apply(this,arguments)}}(),he=function(){var d=M()(c()().mark(function t(){var e,a;return c()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,ee({key:1234});case 2:if(e=l.sent,!e){l.next=6;break}return a=h=="Bitmart"?"QH":"HUNTER",l.abrupt("return",e[h.toLowerCase()][a]);case 6:case"end":return l.stop()}},t)}));return function(){return d.apply(this,arguments)}}(),T=function(){var d=M()(c()().mark(function t(){var e,a,x;return c()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Y({key:1234,exchange_name:h.toLowerCase(),coin_name:h=="Bitmart"?"QH":"HUNTER"});case 2:if(e=m.sent,!e){m.next=11;break}return m.next=6,he();case 6:a=m.sent,x=[{name:"Maker",buygrid:e.Maker.BuyGrid,sellgrid:e.Maker.SellGrid,BuyOrderNum:e.Maker.BuyOrderNum,SellOrderNum:e.Maker.SellOrderNum,OrderAmount:e.Maker.OrderAmount,UpperBound:e.MakerUpperBound,LowerBound:e.MakerLowerBound,running:(a==null?void 0:a.maker)=="Running"},{name:"Taker1",ref_pair:e.Taker1.refPair,OrderAmount:e.Taker1.OrderAmount,buyratio:e.BuyAmountRatio,sellratio:e.SellAmountRatio,UpperBound:e.UpperBound,LowerBound:e.LowerBound,running:(a==null?void 0:a.taker_1)=="Running"},{name:"Taker2",ref_pair:e.Taker2.refPair,OrderAmount:e.Taker2.OrderAmount,buyratio:e.BuyAmountRatio,sellratio:e.SellAmountRatio,UpperBound:e.UpperBound,LowerBound:e.LowerBound,running:(a==null?void 0:a.taker_2)=="Running"}],e.Taker3&&x.push({name:"Taker3",ref_pair:e.Taker3.refPair,OrderAmount:e.Taker3.OrderAmount,buyratio:e.BuyAmountRatio,sellratio:e.SellAmountRatio,UpperBound:e.UpperBound,LowerBound:e.LowerBound,running:(a==null?void 0:a.taker_3)=="Running"}),ue(e),H(x);case 11:case"end":return m.stop()}},t)}));return function(){return d.apply(this,arguments)}}();return(0,p.useEffect)(function(){T()},[h]),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{style:{padding:"60px 250px 20px 250px",display:"grid"},children:(0,r.jsx)("div",{style:{borderBottom:"1px solid #333333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,r.jsxs)("div",{style:{float:"left",display:"flex"},children:[(0,r.jsx)("h3",{style:{cursor:"pointer",fontFamily:"unset",color:h=="Bitmart"?"white":"#ffffffb3"},onClick:function(){return K("Bitmart")},children:"Bitmart"}),(0,r.jsx)("h3",{style:{marginLeft:20,cursor:"pointer",fontFamily:"unset",color:h=="Digifinex"?"white":"#ffffffb3"},onClick:function(){return K("Digifinex")},children:"Digifinex"})]})})}),(0,r.jsx)("div",{style:{padding:"10px 250px"},children:(0,r.jsx)(C.Z,{className:E.nobgTable,dataSource:G,columns:[{title:"#",dataIndex:"id",render:function(t,e,a){return a+1}},{title:"Name",dataIndex:"name",render:function(t,e){return(0,r.jsx)("div",{children:e.name})}},{title:"Grid",dataIndex:"grid",render:function(t,e){return(0,r.jsx)("div",{children:e.name=="Maker"?e.buygrid:"\u2014"})}},{title:"Order Number",dataIndex:"OrderNum",render:function(t,e){return(0,r.jsx)("div",{children:e.name=="Maker"?e.BuyOrderNum:"\u2014"})}},{title:"Buy Ratio",dataIndex:"buyAmountRatio",render:function(t,e){return(0,r.jsx)("div",{children:e.name=="Maker"?"\u2014":e.buyratio})}},{title:"Sell Ratio",dataIndex:"sellAmountRatio",render:function(t,e){return(0,r.jsx)("div",{children:e.name=="Maker"?"\u2014":e.sellratio})}},{title:"Order Amount",dataIndex:"orderAmount",render:function(t,e){return(0,r.jsxs)("div",{children:[e.OrderAmount," USDT"]})}},{title:"Upper Boundary",dataIndex:"upperBound",render:function(t,e){return(0,r.jsx)("div",{children:parseFloat(e.UpperBound).toPrecision(4)})}},{title:"Lower Boundary",dataIndex:"lowerBound",render:function(t,e){return(0,r.jsx)("div",{children:parseFloat(e.LowerBound).toPrecision(4)})}},{title:"Status",dataIndex:"status",render:function(t,e){return(0,r.jsx)(r.Fragment,{children:e.running?(0,r.jsx)(O.Z,{color:"green",style:{background:"transparent"},children:"RUNNING"}):(0,r.jsx)(O.Z,{color:"red",style:{background:"transparent"},children:"STOPPED"})})}},{title:" ",render:function(t,e,a){return(0,r.jsxs)(w.Z,{size:"middle",children:[(0,r.jsx)(f.ZP,{type:"link",onClick:function(){e.running?ve(e.name):ge(e.name)},children:e.running?(0,r.jsx)(U.Z,{}):(0,r.jsx)(u.Z,{})}),(0,r.jsx)(f.ZP,{type:"link",style:{marginLeft:-10},onClick:function(){$(e),F(!0)},children:(0,r.jsx)(V.Z,{style:{color:e.running?"red":"white"}})})]})}}],pagination:!1})}),(0,r.jsx)(oe,{showModal:s,setShowModal:F,row:fe,setRow:$,save:W})]})},le=ie}}]);

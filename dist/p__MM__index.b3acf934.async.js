"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[519],{12439:function(K,T,a){a.r(T);var j=a(6154),f=a(58301),U=j.Z.CancelToken;T.default={post:function(o){var p=o.data||o.body||{},y=o.showError===void 0?!0:o.showError,M=o.rSymbol||p.rSymbol;delete p.successTip,delete p.rSymbol;var O=o.url,w=U.source(),m=w.token,I=w.cancel;return M&&(window.GLOBAL.requestSymbols[M]=I),j.Z.post(O,p,{timeout:1e3*120,cancelToken:m}).then(function(d){if(d.status==200)return typeof d.data=="string"?JSON.parse(d.data).output:!1;d.data,o.failed?o.failed(JSON.parse(d.data)):f.ZP.error(JSON.parse(d.data).msg)},function(d){return o.failed?o.failed(d):console.log(d),!1}).catch(function(d){return j.Z.isCancel(d)?console.log("Request canceled",d.message):(y&&f.ZP.error("\u8BF7\u6C42\u6570\u636E\u9519\u8BEF"),console.log("Error happened:".concat(d))),!1})},get:function(o){var p=o.data||o.body||{},y=o.rSymbol||p.rSymbol,M=o.showError===void 0?!0:o.showError,O=U.source(),w=O.cancel;return y&&(window.GLOBAL.requestSymbols[y]=w),j.Z.get(o.url,{params:o.data||o.params||{}},{timeout:1e3*120}).then(function(m){if(m.status==200)return JSON.parse(m.data).output;o.failed?o.failed(JSON.parse(m.data)):f.ZP.error(JSON.parse(m.data).msg)}).catch(function(m){return j.Z.isCancel(m)?(console.log("Request canceled",m.message),Promise.reject(m)):(o.failed?o.failed(m):console.error(m),M&&f.ZP.error("\u7CFB\u7EDF\u5F02\u5E38\uFF0C\u8BF7\u7A0D\u540E\u91CD\u8BD5"),!1)})}}},18640:function(K,T,a){a.r(T),a.d(T,{default:function(){return ae}});var j=a(15009),f=a.n(j),U=a(99289),C=a.n(U),o=a(5574),p=a.n(o),y=a(67294),M=a(6830),O=a(66309),w=a(78957),m=a(15867),I=a(24147),d=a(14313),Q=a(86548),N=a(12439);function W(x){return N.default.get({url:"api/get-config",data:x})}function X(x){return N.default.get({url:"api/start-bot",data:x})}function V(x){return N.default.get({url:"api/stop",data:x})}function Y(x){return N.default.get({url:"api/get-all-status",data:x})}function q(x){return N.default.post({url:"api/update-config",data:x})}var _=a(97857),g=a.n(_),ee=a(51304),B=a(23323),k=a(17917),P={nobgTable:"nobgTable___hvJjR",myModal:"myModal___BNsza",mySelect:"mySelect___xqXPf",dropDownMenu:"dropDownMenu___Op0_z",optionItem:"optionItem___XxSk5",confirmButton:"confirmButton___NB1tL",saveButton:"saveButton___N6C7a"},r=a(85893),re=function(A){var F=A.showModal,R=A.setShowModal,n=A.row,S=A.setRow,D=A.save;return(0,r.jsxs)(ee.Z,{open:F,footer:null,onCancel:function(){R(!1)},className:P.myModal,children:[(0,r.jsxs)(B.Z,{layout:"horizontal",style:{marginTop:30},children:[(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,color:"#b6b6b5"},children:"Name"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.name,disabled:!0,style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)!="Maker"&&(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Reference Pair"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.ref_pair,disabled:!0,style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)=="Maker"&&(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Grid"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.buygrid,onChange:function(s){S(g()(g()({},n),{},{buygrid:parseFloat(s.target.value),sellgrid:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)=="Maker"&&(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Order Number"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.BuyOrderNum,onChange:function(s){S(g()(g()({},n),{},{BuyOrderNum:parseFloat(s.target.value),SellOrderNum:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)!="Maker"&&(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Buy Ratio"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.buyratio,onChange:function(s){S(g()(g()({},n),{},{buyratio:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(n==null?void 0:n.name)!="Maker"&&(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Sell Ratio"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.sellratio,onChange:function(s){S(g()(g()({},n),{},{sellratio:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Upper Boundary"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.UpperBound,onChange:function(s){S(g()(g()({},n),{},{UpperBound:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Lower Boundary"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.LowerBound,onChange:function(s){S(g()(g()({},n),{},{LowerBound:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]}),(0,r.jsxs)(B.Z.Item,{children:[(0,r.jsx)("div",{style:{fontSize:15,marginBottom:5,color:"#b6b6b5"},children:"Order Amount"}),(0,r.jsx)(k.Z,{value:n==null?void 0:n.OrderAmount,onChange:function(s){S(g()(g()({},n),{},{OrderAmount:parseFloat(s.target.value)}))},style:{height:40,background:"transparent",border:"1px solid #333333",color:"white"}})]})]}),(0,r.jsx)(m.ZP,{className:P.confirmButton,onClick:function(){D(n),R(!1)},children:"Save"})]})},ne=re,te=function(A){var F=(0,y.useState)(!1),R=p()(F,2),n=R[0],S=R[1],D=(0,y.useState)([]),b=p()(D,2),s=b[0],oe=b[1],ie=(0,y.useState)(),G=p()(ie,2),le=G[0],J=G[1],ue=(0,y.useState)("Bitmart"),$=p()(ue,2),h=$[0],z=$[1],de=(0,y.useState)("QH"),H=p()(de,2),Z=H[0],E=H[1],se=function(){var i=C()(f()().mark(function l(e){var t,u;return f()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return e.name=="Maker"?t={MakerUpperBound:e.UpperBound,MakerLowerBound:e.LowerBound,Maker:{BuyGrid:e.buygrid,SellGrid:e.sellgrid,BuyOrderNum:e.BuyOrderNum,SellOrderNum:e.SellOrderNum,OrderAmount:e.OrderAmount}}:(t={UpperBound:e.UpperBound,LowerBound:e.LowerBound,BuyAmountRatio:e.buyratio,SellAmountRatio:e.sellratio},t[e.name]={OrderAmount:e.OrderAmount}),v.next=3,q({key:1234,exchange_name:h.toLowerCase(),coin_name:Z,body:t});case 3:if(u=v.sent,!u){v.next=7;break}return v.next=7,L();case 7:case"end":return v.stop()}},l)}));return function(e){return i.apply(this,arguments)}}(),ce=function(){var i=C()(f()().mark(function l(e){var t;return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,V({key:1234,exchange_name:h.toLowerCase(),coin_name:Z,bot_type:e.toLowerCase().replace("1","_1").replace("2","_2").replace("3","_3")});case 2:if(t=c.sent,!t){c.next=6;break}return c.next=6,L();case 6:case"end":return c.stop()}},l)}));return function(e){return i.apply(this,arguments)}}(),fe=function(){var i=C()(f()().mark(function l(e){var t;return f()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,X({key:1234,exchange_name:h.toLowerCase(),coin_name:h=="Bitmart"?"QH":"HUNTER",bot_type:e.toLowerCase().replace("1","_1").replace("2","_2").replace("3","_3")});case 2:if(t=c.sent,!t){c.next=6;break}return c.next=6,L();case 6:case"end":return c.stop()}},l)}));return function(e){return i.apply(this,arguments)}}(),me=function(){var i=C()(f()().mark(function l(){var e;return f()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Y({key:1234});case 2:if(e=u.sent,!e){u.next=5;break}return u.abrupt("return",e[h.toLowerCase()][Z]);case 5:case"end":return u.stop()}},l)}));return function(){return i.apply(this,arguments)}}(),L=function(){var i=C()(f()().mark(function l(){var e,t,u;return f()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,W({key:1234,exchange_name:h.toLowerCase(),coin_name:Z});case 2:if(e=v.sent,!e.Maker){v.next=12;break}return v.next=6,me();case 6:t=v.sent,u=[{name:"Maker",buygrid:e.Maker.BuyGrid,sellgrid:e.Maker.SellGrid,BuyOrderNum:e.Maker.BuyOrderNum,SellOrderNum:e.Maker.SellOrderNum,OrderAmount:e.Maker.OrderAmount,UpperBound:e.MakerUpperBound,LowerBound:e.MakerLowerBound,running:(t==null?void 0:t.maker)=="Running"}],e.Taker1&&u.push({name:"Taker1",ref_pair:e.Taker1.refPair,OrderAmount:e.Taker1.OrderAmount,buyratio:e.BuyAmountRatio,sellratio:e.SellAmountRatio,UpperBound:e.UpperBound,LowerBound:e.LowerBound,running:(t==null?void 0:t.taker_1)=="Running"}),e.Taker2&&u.push({name:"Taker2",ref_pair:e.Taker2.refPair,OrderAmount:e.Taker2.OrderAmount,buyratio:e.BuyAmountRatio,sellratio:e.SellAmountRatio,UpperBound:e.UpperBound,LowerBound:e.LowerBound,running:(t==null?void 0:t.taker_2)=="Running"}),e.Taker3&&u.push({name:"Taker3",ref_pair:e.Taker3.refPair,OrderAmount:e.Taker3.OrderAmount,buyratio:e.BuyAmountRatio,sellratio:e.SellAmountRatio,UpperBound:e.UpperBound,LowerBound:e.LowerBound,running:(t==null?void 0:t.taker_3)=="Running"}),oe(u);case 12:case"end":return v.stop()}},l)}));return function(){return i.apply(this,arguments)}}();return(0,y.useEffect)(function(){L(),h=="Bitmart"?E("QH"):h=="Toobit"?E("MAKA"):E("HUNTER")},[h]),(0,y.useEffect)(function(){L()},[Z]),(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{style:{padding:"60px 250px 20px 250px",display:"grid"},children:[(0,r.jsx)("div",{style:{borderBottom:"1px solid #333333",display:"flex",justifyContent:"space-between",alignItems:"center"},children:(0,r.jsxs)("div",{style:{float:"left",display:"flex"},children:[(0,r.jsx)("h3",{style:{cursor:"pointer",fontFamily:"unset",color:h=="Bitmart"?"white":"#ffffffb3"},onClick:function(){return z("Bitmart")},children:"Bitmart"}),(0,r.jsx)("h3",{style:{marginLeft:20,cursor:"pointer",fontFamily:"unset",color:h=="Digifinex"?"white":"#ffffffb3"},onClick:function(){return z("Digifinex")},children:"Digifinex"}),(0,r.jsx)("h3",{style:{marginLeft:20,cursor:"pointer",fontFamily:"unset",color:h=="Toobit"?"white":"#ffffffb3"},onClick:function(){return z("Toobit")},children:"Toobit"})]})}),h=="Digifinex"&&(0,r.jsx)("div",{style:{float:"left",display:"flex",marginTop:20},children:["HUNTER","LUK","MAKA"].map(function(i){return(0,r.jsx)("span",{style:{cursor:"pointer",fontFamily:"unset",color:Z==i?"white":"#ffffffb3",marginRight:20},onClick:function(){E(i)},children:i})})})]}),(0,r.jsx)("div",{style:{padding:"10px 250px"},children:(0,r.jsx)(M.Z,{className:P.nobgTable,dataSource:s,columns:[{title:"#",dataIndex:"id",render:function(l,e,t){return t+1}},{title:"Name",dataIndex:"name",render:function(l,e){return(0,r.jsx)("div",{children:e.name})}},{title:"Grid",dataIndex:"grid",render:function(l,e){return(0,r.jsx)("div",{children:e.name=="Maker"?e.buygrid:"\u2014"})}},{title:"Order Number",dataIndex:"OrderNum",render:function(l,e){return(0,r.jsx)("div",{children:e.name=="Maker"?e.BuyOrderNum:"\u2014"})}},{title:"Buy Ratio",dataIndex:"buyAmountRatio",render:function(l,e){return(0,r.jsx)("div",{children:e.name=="Maker"?"\u2014":e.buyratio})}},{title:"Sell Ratio",dataIndex:"sellAmountRatio",render:function(l,e){return(0,r.jsx)("div",{children:e.name=="Maker"?"\u2014":e.sellratio})}},{title:"Order Amount",dataIndex:"orderAmount",render:function(l,e){return(0,r.jsxs)("div",{children:[e.OrderAmount," USDT"]})}},{title:"Upper Boundary",dataIndex:"upperBound",render:function(l,e){return(0,r.jsx)("div",{children:parseFloat(e.UpperBound).toPrecision(4)})}},{title:"Lower Boundary",dataIndex:"lowerBound",render:function(l,e){return(0,r.jsx)("div",{children:parseFloat(e.LowerBound).toPrecision(4)})}},{title:"Status",dataIndex:"status",render:function(l,e){return(0,r.jsx)(r.Fragment,{children:e.running?(0,r.jsx)(O.Z,{color:"green",style:{background:"transparent"},children:"RUNNING"}):(0,r.jsx)(O.Z,{color:"red",style:{background:"transparent"},children:"STOPPED"})})}},{title:" ",render:function(l,e,t){return(0,r.jsxs)(w.Z,{size:"middle",children:[(0,r.jsx)(m.ZP,{type:"link",onClick:function(){e.running?ce(e.name):fe(e.name)},children:e.running?(0,r.jsx)(I.Z,{}):(0,r.jsx)(d.Z,{})}),(0,r.jsx)(m.ZP,{type:"link",style:{marginLeft:-10},onClick:function(){J(e),S(!0)},children:(0,r.jsx)(Q.Z,{style:{color:e.running?"red":"white"}})})]})}}],pagination:!1})}),(0,r.jsx)(ne,{showModal:n,setShowModal:S,row:le,setRow:J,save:se})]})},ae=te}}]);
